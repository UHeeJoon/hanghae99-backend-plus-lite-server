![시스템 아키텍처](./img/architecture.png)
---
> 인프라 환경은 docker로 구성함
## 플로우
NGINX는 SSL 설정을 통해 HTTPS로 통신하며, 클라이언트의 요청을 내부 네트워크의 API Gateway로 전달합니다.
API Gateway는 콘서트 예약 서버의 상태와 Redis 기반 대기열 상태를 확인한 후, 시스템 사용률이 일정 수준 이하일 경우(예: CPU 사용률 40% 이하) 요청을 콘서트 예약 서버로 바로 전달합니다.
반대로, 사용률이 일정 수준 이상일 경우에는 요청을 Redis로 구성된 대기열 서버로 우선 전달합니다.

대기열 서버는 Redis의 Primary-Replica 구조를 활용해 읽기와 쓰기를 분리함으로써 부하를 분산시킵니다.

콘서트 예약 서버는 요청을 처리하면서 MySQL로부터 좌석 및 사용자 정보를 조회하며, MySQL 역시 Primary-Replica 구조로 운영되어 읽기와 쓰기 부하를 분산합니다.

예약 서버에서 발생하는 예약, 결제, 알림, 히스토리 등의 이벤트는 Kafka를 통해 처리되어 각 이벤트 간의 결합도를 낮추고, 결과값이나 자주 조회되는 데이터를 Redis에 캐싱하여 사용자에게 빠르고 안정적인 응답을 제공합니다.